<html>
<head>
    <script type="text/javascript" src="Test/Builder.js"></script>
    <script type="text/javascript" src="Test/More.js"></script>
    <script type="text/javascript" src="../MochiKit/Base.js"></script>
    <script type="text/javascript" src="../MochiKit/Iter.js"></script>
    <script type="text/javascript" src="../MochiKit/DOM.js"></script>
    <script type="text/javascript" src="../MochiKit/Visual.js"></script>
</head>
<body>

<pre id="test">
<script type="text/javascript">
try {
        
    // Counting the number of tests is really lame
    plan({'tests': 37});
   
    is( Color.whiteColor().toHexString(), "#ffffff", "whiteColor has right hex" );
    is( Color.blackColor().toHexString(), "#000000", "blackColor has right hex" );
    is( Color.blueColor().toHexString(), "#0000ff", "blueColor has right hex" );
    is( Color.redColor().toHexString(), "#ff0000", "redColor has right hex" );
    is( Color.greenColor().toHexString(), "#00ff00", "greenColor has right hex" );
    is( compare(Color.whiteColor(), Color.whiteColor()), 0, "default colors compare right" );
    ok( Color.whiteColor() == Color.whiteColor(), "default colors are interned" );
    ok( Color.whiteColor().toRGBString(), "rgb(255,255,255)", "toRGBString white" );
    ok( Color.blueColor().toRGBString(), "rgb(0,0,255)", "toRGBString blue" );
    is( Color.fromRGB(190, 222, 173).toHexString(), "#bedead", "fromRGB works" );
    is( Color.fromRGB({r:190,g:222,b:173}).toHexString(), "#bedead", "alt fromRGB works" );
    is( Color.fromHexString("#bedead").toHexString(), "#bedead", "round-trip hex" );
    is( Color.fromString("#bedead").toHexString(), "#bedead", "round-trip string(hex)" );
    is( Color.fromRGBString("rgb(190,222,173)").toHexString(), "#bedead", "round-trip rgb" );
    is( Color.fromString("rgb(190,222,173)").toHexString(), "#bedead", "round-trip rgb" );

    var hsl = Color.whiteColor().asHSL();
    is( hsl.h, 0.0, "white hsl.h" );
    is( hsl.s, 0.0, "white hsl.s" );
    is( hsl.l, 1.0, "white hsl.l" );
    hsl = Color.brownColor().asHSL();
    is( hsl.h, (30.0 / 360.0), "brown hsl.h" );
    is( hsl.s, (2.0 / 3.0), "brown hsl.s" );
    is( hsl.l, 0.6, "brown hsl.l" );
    is( 
        Color.fromHSL(hsl.h, hsl.s, hsl.l).toHexString(),
        Color.brownColor().toHexString(),
        "fromHSL works with components"
    );
    is( 
        Color.fromHSL(hsl).toHexString(),
        Color.brownColor().toHexString(),
        "fromHSL alt form"
    );
    is( Color.fromHSL(0, 0, 0).toHexString(), "#000000", "fromHSL to black" );
    hsl = Color.blackColor().asHSL();
    is( hsl.h, 0.0, "black hsl.h" );
    is( hsl.s, 0.0, "black hsl.s" );
    is( hsl.l, 0.0, "black hsl.l" );
    hsl.h = 1.0;
    hsl = Color.blackColor().asHSL();
    is( hsl.h, 0.0, "asHSL returns copy" );
    var rgb = Color.brownColor().asRGB();
    is( rgb.r, 153, "brown rgb.r" );
    is( rgb.g, 102, "brown rgb.g" );
    is( rgb.b, 51, "brown rgb.b" );
    rgb.r = 0;
    rgb = Color.brownColor().asRGB();
    is( rgb.r, 153, "asRGB returns copy" );

    is( Color.fromName("aqua").toHexString(), "#00ffff", "aqua fromName" );
    is( Color.fromString("aqua").toHexString(), "#00ffff", "aqua fromString" );
    is( Color.fromRGBString("rgb( 0, 255, 255)").toHexString(), "#00ffff", "fromRGBString with spaces" );
    is( Color.fromRGBString("rgb( 0, 100%, 255)").toHexString(), "#00ffff", "fromRGBString with percents" );
    
    // Done!

    ok( true, "test suite finished!");
    
} catch (err) {
    
    var s = "test suite failure!\n";
    var o = {};
    var k = null;
    for (k in err) {
        // ensure unique keys?!
        if (!o[k]) {
            s +=  k + ": " + err[k] + "\n";
            o[k] = err[k];
        }
    }
    ok ( false, s );

}
</script>
</pre>
</body>
</html>
