<html>
<head>
    <script type="text/javascript" src="../MochiKit/Compat.js"></script>
    <script type="text/javascript" src="Test/Builder.js"></script>
    <script type="text/javascript" src="Test/More.js"></script>
    <script type="text/javascript" src="../MochiKit/Base.js"></script>
    <script type="text/javascript" src="../MochiKit/Format.js"></script>
</head>
<body>

<pre id="test">
<script type="text/javascript">
try {
        
    // Counting the number of tests is really lame
    plan({'tests': 20});
   
    is( twoDigitFloat(-0.1234), "-0.12", "twoDigitFloat -0.1234 correct");
    is( twoDigitFloat(-0.1), "-0.1", "twoDigitFloat -0.1 correct");
    is( twoDigitFloat(-0), "0", "twoDigitFloat -0 correct");
    is( twoDigitFloat(0), "0", "twoDigitFloat 0 correct");
    is( twoDigitFloat(1), "1", "twoDigitFloat 1 correct");
    is( twoDigitFloat(1.0), "1", "twoDigitFloat 1.0 correct");
    is( twoDigitFloat(1.2), "1.2", "twoDigitFloat 1.2 correct");
    is( twoDigitFloat(1.234), "1.23", "twoDigitFloat 1.234 correct");
    is( percentFormat(123), "12300%", "percentFormat 123 correct");
    is( percentFormat(1.23), "123%", "percentFormat 123 correct");
    is( twoDigitAverage(1, 0), "0", "twoDigitAverage dbz correct");
    is( twoDigitAverage(1, 1), "1", "twoDigitAverage 1 correct");
    is( twoDigitAverage(1, 10), "0.1", "twoDigitAverage .1 correct");
    function reprIs(a, b) {
        arguments[0] = repr(a);
        arguments[1] = repr(b);
        is.apply(this, arguments);
    }
    reprIs( lstrip("\r\t\n foo \n\t\r"), "foo \n\t\r", "lstrip whitespace chars" );
    reprIs( rstrip("\r\t\n foo \n\t\r"), "\r\t\n foo", "rstrip whitespace chars" );
    reprIs( strip("\r\t\n foo \n\t\r"), "foo", "strip whitespace chars" );
    reprIs( lstrip("\r\n\t \r", "\r"), "\n\t \r", "lstrip custom chars" );
    reprIs( rstrip("\r\n\t \r", "\r"), "\r\n\t ", "rstrip custom chars" );
    reprIs( strip("\r\n\t \r", "\r"), "\n\t ", "strip custom chars" );
    
    // Done!

    ok( true, "test suite finished!");
    
} catch (err) {
    
    var s = "test suite failure!\n";
    var o = {};
    var k = null;
    for (k in err) {
        // ensure unique keys?!
        if (!o[k]) {
            s +=  k + ": " + err[k] + "\n";
            o[k] = err[k];
        }
    }
    ok ( false, s );

}
</script>
</pre>
</body>
</html>
