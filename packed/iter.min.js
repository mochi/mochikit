this.mochikit=this.mochikit||{},this.mochikit.iter=function(t){"use strict";function n(t){return t&&"function"==typeof t.next}function i(t,i){let e,r,o=!n(i)||i.done;for(;!o;)e=(r=i.next())===i?i.value:r,t.push(e),o=i.done;return t}function e(t){return i([],t)}function r(t,n){return e(t).some(n)}function o(t,n){for(let i of n)t.call(this,i)}function u(t){return new P(t)}function s(){throw V}function f(...t){return new B(...t)}function c(t){return new D(t)}function h(t){return new B(...t)}function a(t,n){return new H(t,n)}function d(t){let i=!n(t)||t.done;for(;!i;)t.next(),i=t.done}function l(t,i){let e=0,r=!n(t)||t.done;for(;r&&e<i;)t.next(),++e,r=t.done;return t}function p(t,i){let e,r=0,o=!n(t)||t.done;for(;!o;)i((e=t.next())===t?e:t.value,r),o=t.done,++r;return t}function y(t){return new J(t)}function x(t,i){if(n(t)){let n=t.next;t.next=function(...t){n.call(this,...t),i.call(this,...t)}}return null}function g(t){return t&&"function"==typeof t[Symbol.iterator]}function m(t,n){let i=0,r=[],o=e(t);for(let t of o)1==n(t,i,o)&&r.push(t),++i;return u(r)}function I(t,n){let i=0,r=[],o=e(t);for(let t of o)!1===n(t,i,o)&&r.push(t),++i;return u(r)}function v(t,n){return new Q(t,n)}function w(t){return function(n){return v(n,t)}}function _(t,n,i){return e(t).slice(n,i)}function k(t){let n=t&&t.__repr__,i=!!n&&typeof n;return"function"===i?n.call(t):"string"===i?n:null}function L(t,n){if(arguments.length>=2)return self.takewhile(function(t){return t!=n},t);if("function"==typeof t.next)return t;if("function"==typeof t.iter)return t.iter();try{return L.registry.match(t)}catch(n){if(n instanceof Wt)throw new TypeError(`${k(t)} is not iterable (not found in registry).`);throw n}}function b(t,n){return v(t,t=>t*n)}function A(t){return new Yt(t)}function E(t,n){return new Zt(t,n)}function S(t,n,i){void 0===i&&(1,i=t[0]);for(let e of t)i=n(i,e);return i}function C(t){return S(e(t))}function F(t){return new $t(t)}function O(t){return e(t).reverse()}function j(t,n){return new tn(t,n)}function q(t,n){return Array.from(t).sort(n)}function K(t,n){return new P(q(t,n))}function M(t,n){return e(t).sort(n)}function N(t){let n;for(let i of t){if(n!==n)return n;n+=i}return n}function R(t,n,i){let e=N(t);return e>i?i:e<n?n:e}function T(t){return N(e(t))}function z(t){return R(e(t))}function G(t){return new nn(t)}class P{constructor(t){this.array=t,this.done=!1,this.index=0}next(){if(!this.done){let{array:array,index:index}=this;index>=array.length?this.done=!0:(this.value=array[index],++this.index)}return this}__repr__(){return`ArrayIterator(index = ${this.index}, done = ${this.done}, length = ${this.array.length})`}}var V=new Error("StopIteration");class B{constructor(...t){this.items=t,this.index=0}next(){let{index:index}=this;return index>=this.items.length&&(this.index=0),this.value=this.items[index],this}__repr__(){return`CycleIterator(index = ${this.index}, length = ${this.items.length})`}}class D{constructor(t=0){this.n=t,this.done=!1}next(){return this.value=this.n,this}__repr__(){return`CountIterator(n = ${this.n}, done = ${this.done})`}}class H{constructor(t,n){this.array=t,this.predicate=n,this.index=0}next(){if(!this.done){let{array:array,index:index,predicate:predicate}=this,t=array[index];this.done=predicate(t,index,array)}return this}__repr__(){return`EveryIterator(...)`}}class J{constructor(t){this.generator=t,this.done=t.done,this.value=t.value}__repr__(){return`GenIterator(done = ${this.done})`}next(){return this.generator.next(),this.done=this.generator.done,this.value=this.generator.value,this}}class Q{constructor(t,n){this.pipeFunction=n,this.iter=t,this.done=t.done,"function"==typeof t.__repr__&&(this.__repr__=function(){return this.iter.__repr__()})}next(){return this.done||(this.value=this.pipeFunction(this.iter.next(),this.iter,this),this.done=this.iter.done),this}__repr__(){return`PipedIterator(...)`}}const U=t=>!!t,W=t=>!t,X=t=>t,Y=t=>~t,Z=t=>-t,$=(t,n)=>t-n,tt=(t,n)=>t/n,nt=(t,n)=>t%n,it=(t,n)=>t*n,et=(t,n)=>t&&n,rt=(t,n)=>t||n,ot=(t,n)=>t^n,ut=(t,n)=>t<<n,st=(t,n)=>t>>n,ft=(t,n)=>t>>>n,ct=(t,n)=>t==n,ht=(t,n)=>t!=n,at=(t,n)=>t>n,dt=(t,n)=>t>=n,lt=(t,n)=>t<n,pt=(t,n)=>t<=n,yt=(t,n)=>t===n,xt=(t,n)=>t!==n,gt=(t,n)=>t&n,mt=(t,n)=>t|n,It=t=>-1===t,vt=t=>-1!==t,wt=w((t,n)=>t+n),_t=w(et),kt=w(tt),Lt=w(ct),bt=w(dt),At=w(at),Et=w(X),St=w(It),Ct=w(vt),Ft=w(pt),Ot=w(gt),jt=w(W),qt=w(mt),Kt=w(ut),Mt=w(lt),Nt=w(nt),Rt=w(it),Tt=w(ht),zt=w(Z),Gt=w(Y),Pt=w(rt),Vt=w(st),Bt=w(yt),Dt=w(xt),Ht=w($),Jt=w(U),Qt=w(ot),Ut=w(ft);class Wt extends Error{constructor(t){super(t),this.name="NotFoundError"}}class Xt{constructor(){this.pairs=[]}register(t,n,i,e){e?this.pairs.unshift([t,n,i]):this.pairs.push([t,n,i])}match(){for(var t=0;t<this.pairs.length;t++){var n=this.pairs[t];if(n[1].apply(this,arguments))return n[2].apply(this,arguments)}throw new Wt}unregister(t){for(var n=0;n<this.pairs.length;n++)if(this.pairs[n][0]==t)return this.pairs.splice(n,1),!0;return!1}}L.registry=new Xt;class Yt extends P{constructor(t){super(Object.keys(t))}__repr__(){return`KeyIterator(size = ${this.array.length}, done = ${this.done}, index = ${this.index})`}}class Zt{constructor(t,n){this.start=t,this.end=n,this.done=!1,this.index=t}next(){return this.done||(this.index>=this.end?this.done=!0:this.value=++this.index),this}__repr__(){return`RangeIterator(start = ${this.start}, end = ${this.end}, done = ${this.done})`}}class $t{constructor(t){this.value=t,this.done=!1}next(){return this}__repr__(){return`RepeatIterator(done = ${this.done})`}}class tn{constructor(t,n){this.index=0,this.array=t,this.done=!1,this.predicate=n}next(){if(!this.done)if(this.index>=this.array.length)this.done=!0;else{let{array:array,index:index,predicate:predicate}=this,t=array[index];this.value=predicate(t,index,array,this)}return this}__repr__(){return`SomeIterator(done = ${this.done}, index = ${this.index})`}}class nn extends P{constructor(t){super(Object.keys(t).map(n=>t[n]))}__repr__(){return`ValueIterator(size = ${this.array.length}, done = ${this.done}, index = ${this.index})`}}return t.__repr__="[MochiKit.Iter]",t.any=r,t.applyMap=o,t.ArrayIterator=P,t.arrayLikeIter=u,t.breakOldLoop=s,t.chain=f,t.count=c,t.CountIterator=D,t.cycle=h,t.CycleIterator=B,t.every=a,t.EveryIterator=H,t.exhaust=d,t.exhaustLimited=l,t.forEach=p,t.GenIterator=J,t.genToIterator=y,t.guardIterator=x,t.hasSymbolIterator=g,t.iextend=i,t.ifilter=m,t.ifilterfalse=I,t.isIterable=g,t.isIterator=n,t.islice=_,t.iter=L,t.itimes=b,t.KeyIterator=Yt,t.keyIterator=A,t.list=e,t.PipedIterator=Q,t.pipeNext=v,t.range=E,t.RangeIterator=Zt,t.reduceArrayLike=S,t.reduceIter=C,t.repeat=F,t.RepeatIterator=$t,t.reversed=O,t.some=j,t.SomeIterator=tn,t.sortedArrayLike=q,t.sortedArrayLikeIter=K,t.sortedIter=M,t.StopIteration=V,t.sumArrayLike=N,t.sumArrayLikeClamped=R,t.sumIter=T,t.sumIterClamped=z,t.ValueIterator=nn,t.ival=G,t.iadd=wt,t.iand=_t,t.idiv=kt,t.ieq=Lt,t.ige=bt,t.igt=At,t.iidentity=Et,t.iioempty=St,t.iiofound=Ct,t.ile=Ft,t.ilogand=Ot,t.ilognot=jt,t.ilogor=qt,t.ilshift=Kt,t.ilt=Mt,t.imod=Nt,t.imul=Rt,t.ine=Tt,t.ineg=zt,t.inot=Gt,t.ior=Pt,t.irshift=Vt,t.iseq=Bt,t.isne=Dt,t.isub=Ht,t.itruth=Jt,t.ixor=Qt,t.izrshift=Ut,t}({});
